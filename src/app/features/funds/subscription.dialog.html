<form [formGroup]="form" class="form" (ngSubmit)="submit()">
  <h2 mat-dialog-title class="dialog-title">Suscribirse a {{ data.name }}</h2>

  <mat-dialog-content class="dialog-content">
    <mat-form-field appearance="outline">
      <mat-label>Monto (COP)</mat-label>
      <input
        matInput
        type="number"
        formControlName="amount"
        [min]="data.minAmount || 0"
        step="1000"
        placeholder="Ej: 100000"
        autofocus
      />
      <mat-hint>
        Mínimo: {{ data.minAmount | currency : 'COP' : 'symbol' : '1.0-0' : 'es-CO' }}
      </mat-hint>
      <mat-error *ngIf="form.get('amount')?.hasError('required')"> Requerido </mat-error>
      <mat-error *ngIf="form.get('amount')?.hasError('min')"> Monto menor al mínimo </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Método de notificación</mat-label>
      <mat-select formControlName="notification">
        <mat-option value="email">Email</mat-option>
        <mat-option value="sms">SMS</mat-option>
      </mat-select>
    </mat-form-field>
  </mat-dialog-content>

  <mat-dialog-actions align="end" class="dialog-actions">
    <button mat-stroked-button type="button" class="button-cancel" (click)="close()">
      Cancelar
    </button>

    <button
      mat-raised-button
      color="primary"
      [disabled]="form.invalid || loading"
      type="submit"
      class="confirm-btn"
    >
      <span>{{ loading ? 'Procesando...' : 'Confirmar' }}</span>
    </button>
  </mat-dialog-actions>
</form>
